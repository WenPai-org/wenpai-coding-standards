---
layout: default
title: PHP注释规范
nav_order: 1
parent: 注释规范
---

# PHP注释规范

## 前言

注释的作用应该是帮助其他人快速理解代码，同时因为PHP语言本身的特性，所以注释在PHP语言中也担任了声明变量、返回值类型的作用（新版PHP中已经支持了类型声明，但文派系列项目要求兼容到PHP 7.0，在此版本下还不支持变量类型声明）

## 注释越多越好吗？

并非如此，好的代码应该具有清晰的逻辑结构和自解释性，尤其是一些变量、函数的命名都应该直接体现其作用，而不应该依赖注释去标识。注释应当仅仅是辅助理解的，主要用来说明一些需要特别注意的事项。

## 应该为哪些内容添加注释

 * 函数
 * 类
 * 类成员（属性、常量、方法）
 * 代码引入（require_once、include_once）
 * 钩子（actions 和 filters）
 * 文件
 * 常量

## 一些建议

### 注释应简短扼要

注释追求的是清晰、简短、一针见血，因此在编写注释时要尽量去描述这个元素将会在何时做什么。

示例：

 * 函数：描述函数会做什么
   * 好：显示上次修改文章的日期
   * 坏：你可以通过此函数查看文章的最后修改日期
   
 * 过滤器：描述什么被过滤了
   * 好：过滤帖子的内容
   * 坏：让你可以编辑帖子中输出的内容
   
 * 动作器：描述什么时候触发
   * 好：在加载核心并验证用户权限后触发
   * 坏：允许你在核心加载后注册自定义帖子类型、自定义分类或其他

### 语法

描述元素的注释应该写成完整的句子。例外情况是文件的注释，因为其目的是作为文件的“标题”而不是试图描述这个文件会做什么。

## 示例

### 函数注释

```php
/**
 * 用于获取当前消息循环中的帖子作者名称
 * 
 * 这里是注释内容，如果没有特别要交代的事情，这一块可以忽略掉。如果你想交代一些事则可以把这
 * 一块写的很长。
 *
 * @since 1.0.0
 * @param int $post_id 要查询的帖子ID
 *
 * @return string|bool 成功返回帖子作者名，失败返回false
*/
```
