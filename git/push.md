---
layout: default
title: 代码提交规范
nav_order: 1
parent: Git规范
---

# 代码提交规范

## 前言

本规范在[AngularJS社区代码提交规范](https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0)的基础上结合WordPress.org的规范融合出了自己的风格。

## 提交日志的格式

```
<类型>(生效范围):日志标题
日志内容
```

### 类型

 * 特性（新的功能增加）
 * 修复（对BUG和缺陷的修补）
 * 重构（对现有代码不影响功能的重写）
 * 文档（对项目文档的更改，如果单纯改了某块代码的注释而未修改任何代码，也请使用此类型）
 * 测试（对单元测试及示例代码的更改型）
 * 风格（不涉及代码、文档、注释变更的提交，例如：格式化了代码以及增删了一个空格等）

### 生效范围

生效范围以功能模块为单位，以文派开发框架举例：

文派开发框架总体上分为设置页生成器模块、小工具生成器模块、文章元信息生成器模块、字段生成器模块，于是现在给设置页生成器模块提交了一个代码变更后生效范围就可以填：设置页生成器（不带模块二字）。

特别情况：

对于只是更新某个孤立文件，该文件不属于任何模块的情况可以在生效范围字段填写文件名。例如github的项目自述文件。

### 日志标题

标题应该概述本次提交主要做了什么，而不应该是诸如：更新了自述文件、更新了xxx.php，这些话并没有交代什么有效信息。正确写法应该是类似：支持为容器添加自定义类、替换字段信息中id为name。

### 日志内容

内容是可选的，如果没有什么东西需要特别说明的情况下，尽可能只为日志写标题，并在标题中总结一切。

### 示例

```
特性（设置页生成器）：支持为容器添加自定义类
```

### 约定

 1. 提交日志请全部使用中文书写——面对满篇的中式英语与翻译腔，即便开了谷歌翻译也一样是看的一脸懵逼，这增加了很多无谓的维护难度。
 2. 对于某个应用的第一次提交，不晓得该如何为其归类的情况下，可以将日志写为：“初始化”。
 3. 应在功能编写完整，或至少不会导致应用整体无法正常运行的情况下才提交。
 4. 一次代码提交应该只专注做一件事，而不应该既修复一个bug又新增一个特性。 
